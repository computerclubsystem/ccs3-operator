<section *transloco="let t;">
  <h2>{{t('User profile')}}</h2>
  <section class="ccs3-op-flex-row">
    <section class="change-password-section">
      <mat-card class="ccs3-op-flex-column">
        <mat-card-header>
          <mat-card-title>
            <span>{{t('Change password')}}</span>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="changePasswordForm" class="ccs3-op-flex-column">
            @let passwordsAreDifferent = hasChangePasswordsNotEqualError();
            <mat-form-field>
              <mat-label>{{t('Current password')}}</mat-label>
              <input [formControl]="changePasswordForm.controls.currentPassword" matInput name="current-password"
                type="password" autocomplete="off" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>{{t('New password')}}</mat-label>
              <input [formControl]="changePasswordForm.controls.newPassword" matInput name="new-password"
                type="password" autocomplete="off" />
              @if (passwordsAreDifferent){
              <mat-error>{{t('Passwords do not match')}}</mat-error>
              }
            </mat-form-field>
            <mat-form-field>
              <mat-label>{{t('Confirm new password')}}</mat-label>
              <input [formControl]="changePasswordForm.controls.confirmNewPassword" name="confirm-new-password" matInput
                type="password" autocomplete="off" />
              @if (passwordsAreDifferent){
              <mat-error>{{t('Passwords do not match')}}</mat-error>
              }
            </mat-form-field>
          </form>
          <button (click)="onChangePassword()" [disabled]="changePasswordForm.invalid" mat-flat-button
            class="ccs3-op-full-width">
            {{t('Change password')}}
          </button>
        </mat-card-content>
      </mat-card>
    </section>
  </section>
</section>
